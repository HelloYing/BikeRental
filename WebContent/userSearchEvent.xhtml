<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/WEB-INF/templates/template.xhtml">
    <ui:define name="mainBody">
        <h:form>
         <h:outputText value="#{EventBean.searchmessage}" id="message" style="display:block;font-weight:bold;margin-top:20px"/>         
        <ui:repeat value="#{EventBean.events}" var="event">
			 <h:panelGrid id="grid" columns="1" border="2" cellpadding="0" cellspacing="1" bgcolor="#FFF"
			 style="display:block; margin-top:20px; margin-left:60px;margin-right:60px;text-align:center;width:400px">
              	<h:outputText id="id1" value="#{event.name}" style="display:block;color:red;width:400px" />          			
								
              	<h:outputText id="id2" value="#{event.description}" />

              	<h:outputText id="id3" value="Date : #{event.date}" />
 
              	<h:outputText id="id4" value="Address: #{event.address}" />
              	
              	<h:outputText id="id5" value="#tag: #{event.type}" />
              				            				
              </h:panelGrid>
        </ui:repeat>  
            
       </h:form>
    </ui:define>
   
    <ui:define name="sideBar">
    	<h:form>
    	 <h:panelGrid columns="2">
               	
               	<h:outputText value="type"></h:outputText>
                 <h:selectOneMenu id="type"
                     value="#{EventBean.type}">
        		<f:selectItem id="item1" itemLabel="sale" itemValue="sale" />
        		<f:selectItem id="item2" itemLabel="contest" itemValue="contest" />
        		<f:selectItem id="item3" itemLabel="party" itemValue="party" />
        		<f:selectItem id="item4" itemLabel="news" itemValue="news" />
       			</h:selectOneMenu>
       			
                
                <h:outputText  value="between time(YYYY-MM-DD):"></h:outputText>
                <h:inputText id="date1" value="#{EventBean.leftDate}"></h:inputText>
                
                <h:outputText  value="and time(YYYY-MM-DD): "></h:outputText>
                <h:inputText id="date2" value="#{EventBean.rightDate}"></h:inputText>

            </h:panelGrid>
            
            <h:commandButton value="Show All Events" action="#{EventBean.searchAllEvents}">
            <f:ajax render="@all"/>
            </h:commandButton>
            <h:commandButton value="Search by type" action="#{EventBean.searchEventByType()}">
             <f:ajax render="@all" execute="type"/>
            </h:commandButton>
            <h:commandButton value="Search by date" action="#{EventBean.searchEventByDate()}">
             <f:ajax render="@all" execute="date1 date2"/>
            </h:commandButton>
           
    	</h:form>
    </ui:define>
</ui:composition>
</html>